<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cyber Detective: The Mystery of the Missing AI</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <h1>Cyber Detective</h1>
        <p class="subtitle">The Mystery of the Missing AI</p>
    </header>

    <main>
        <!-- Story Container Section -->
        <section id="storyContainer">
            <img id="storyImage" src="assets/1.jpeg" alt="Start image" class="story-image">
            <div id="storyText">Your journey begins...</div>
            <div id="choices" class="choices-grid"></div>
            <!-- Restart Button, initially hidden -->
            <button id="restartButton" style="display: none;" onclick="startGame()">Restart Game</button>
        </section>

        <!-- City Map Section -->
        <section id="cityMap">
            <h2>City Map</h2>
            <div id="mapAreas" class="map-grid">
                <button onclick="exploreArea('surveillanceRoom')">Surveillance Room</button>
                <button onclick="exploreArea('dataCenter')">Data Center</button>
                <button onclick="exploreArea('techLab')">Tech Lab</button>
                <button onclick="exploreArea('aiHub')">AI Hub</button>
            </div>
        </section>

        <!-- Music Toggle, Addendum, and Technical Addendum Buttons -->
        <button id="toggleMusic">ðŸ”Š Toggle Music</button>
        <button id="addendumBtn" onclick="toggleAddendum()">ðŸ“œ Addendum</button>
        <button id="technicalAddendumBtn" onclick="toggleTechnicalAddendum()">ðŸ“˜ Technical Addendum</button>

        <!-- Addendum Modal -->
        <div id="addendumModal" class="modal">
            <div class="modal-content">
                <span class="close" onclick="toggleAddendum()">&times;</span>
                <h2>Addendum</h2>
                <p id="addendumContent">
                    In the beginning, you are tasked with finding the missing AI that controls vital city functions. Choose your actions wisely, as every choice will lead to a different part of the story with unique challenges and opportunities.
                </p>
            </div>
        </div>

        <!-- Technical Addendum Modal -->
        <div id="technicalAddendumModal" class="modal">
            <div class="modal-content">
                <span class="close" onclick="toggleTechnicalAddendum()">&times;</span>
                <h2>Technical Addendum</h2>
                <p>
                    Building this project involved thoughtful technical choices aimed at creating an interactive and visually appealing experience, while keeping the structure clean and responsive. The HTML structure centers around key semantic tags to improve accessibility and maintain a logical flow. I used `<section>` tags to separate the story container, city map, and modal components, keeping each part distinct and easy to navigate. Additionally, `<header>`, `<footer>`, and `<main>` tags provide consistent layout, helping to organize information and functionality.
                    <br><br>
                    CSS plays a significant role in setting a cohesive look and feel. I defined color variables to ensure a unified color theme throughout the site and to make styling adjustments easier. Animations and button transitions add engagement and responsiveness, giving users feedback on interactions. The overlay blur effect that appears at each storyâ€™s ending was used to highlight the restart button, keeping the userâ€™s focus directed without overwhelming the screen. Media queries ensure the layout adapts smoothly across device sizes, which was important for accessibility and user experience.
                    <br><br>
                    JavaScript is essential for handling the storyâ€™s branching paths, user choices, and overall interactivity. Each stage of the story is organized into an object, with text, choices, consequences, images, and addendum contentâ€”this modular approach makes it easy to add, remove, or change stages as needed. Event listeners and DOM manipulation drive the interactions for user choices, toggling music, and activating mini-games.
                    <br><br>
                    I faced a few challenges along the way. Managing audio autoplay in line with browser policies required starting the music only after the userâ€™s first action, which both solved the issue and improved user control. There were also some initial difficulties with event listeners not updating DOM content as expected, particularly with the music toggle and delayed restart button. CSS styling for responsive images and modals required fine-tuning using `flex` and `grid` layouts to ensure a balanced, user-friendly design across different screen sizes.
                </p>
            </div>
        </div>
    </main>

    <!-- Blurred overlay for end screen -->
    <div class="blur-overlay"></div>

    <!-- Footer with last modified script -->
    <footer>
        <p>Last updated: <span id="lastModified"></span></p>
    </footer>

    <!-- Audio Elements for Sound Effects -->
    <audio id="backgroundMusic" src="assets/background.mp3" loop preload="auto"></audio>
    <audio id="clickSound" src="assets/click.mp3" preload="auto"></audio>

    <!-- JavaScript Files -->
    <script src="script.js"></script>
    <script>
        document.getElementById("lastModified").textContent = document.lastModified;
    </script>
</body>
</html>
